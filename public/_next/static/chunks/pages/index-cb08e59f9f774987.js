(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(8156)}])},8156:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return eo}});var n=r(5893),i=r(9008),o=r.n(i),l=r(7294),s=r(6249),a=r(5453),c=r(3165),d=r(6979),u=r(2495),h=r(1765),x=r(4040),j=r(7690),y=r(7976),m=r(3946);let p=e=>{let t=l.useRef(),r=l.useRef(),n=i=>{if(void 0!=r.current){let t=i-r.current;e(t)}r.current=i,t.current=requestAnimationFrame(n)};l.useEffect(()=>(t.current=requestAnimationFrame(n),()=>cancelAnimationFrame(t.current)),[])};var g=r(7957),f=r(685),Z=r(6540);function P(e){let{setEditing:t,editing:r,setShutdownModalVisible:i,socketMessage:o,socket:P,groupPanelExpanded:b,setGroupPanelExpanded:C,setRestartModalVisible:w,groups:S,currentGroupId:k,setCurrentGroup:I,setCurrentGroupId:v,setVisible:N}=e;(0,s.Z)();let[E,G]=l.useState(""),[F,B]=l.useState(0),[T,D]=l.useState(0),[M,R]=l.useState(!1),z=l.useRef(null);p(()=>{G(O())});let O=()=>{let e=new Date,t=10>e.getHours()?"0".concat(e.getHours()):e.getHours(),r=10>e.getMinutes()?"0".concat(e.getMinutes()):e.getMinutes(),n=10>e.getSeconds()?"0".concat(e.getSeconds()):e.getSeconds(),i="".concat(t,":").concat(r,":").concat(n);return i};return(0,n.jsxs)(a.ZP,{isBordered:!0,variant:"floating",maxWidth:"fluid",children:[(0,n.jsx)(a.ZP.Toggle,{ref:z,showIn:"xs"}),(0,n.jsxs)(a.ZP.Brand,{css:{"@xs":{w:"12%"}},children:[(0,n.jsx)(c.Z,{css:{display:"none","@xs":{display:"inline"}},children:(0,n.jsx)(m.Z,{onClick:()=>{C(!b)},children:(0,n.jsx)(f.Z,{style:{color:"white",transform:"rotate(".concat(b?"0deg":"180deg",")")}})})}),(0,n.jsx)(d.Z,{b:!0,color:"inherit",hideIn:"xs",children:"Project Hub"})]}),(0,n.jsx)(a.ZP.Content,{style:{flex:1,justifyContent:"center"},children:(0,n.jsx)(u.ZP,{content:(()=>{let e=new Date,t=10>e.getDate()?"0".concat(e.getDate()):e.getDate(),r=e.getMonth()+1<10?"0".concat(e.getMonth()+1):e.getMonth()+1,n=10>e.getFullYear()?"0".concat(e.getFullYear()):e.getFullYear(),i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],o="".concat(n,"-").concat(r,"-").concat(t," ").concat(i);return o})(),rounded:!0,placement:"bottom",children:(0,n.jsx)(d.Z,{b:!0,color:"inherit",hideIn:"xs",children:E})})}),(0,n.jsx)(a.ZP.Content,{css:{"@xs":{w:"12%",jc:"flex-end"}},children:(0,n.jsxs)(h.ZP,{placement:"bottom-right",children:[(0,n.jsx)(a.ZP.Item,{children:(0,n.jsx)(h.ZP.Trigger,{children:(0,n.jsx)(m.Z,{style:{color:"white"},children:(0,n.jsx)(y.Z,{})})})}),(0,n.jsx)(h.ZP.Menu,{"aria-label":"Actions",color:"secondary",onAction:e=>{"edit"===e&&t(!r)},children:(0,n.jsx)(h.ZP.Item,{color:r?"success":"primary",children:(0,n.jsxs)(x.Z,{align:"center",children:[(0,n.jsx)(g.Z,{}),(0,n.jsx)(d.Z,{style:{textTransform:"uppercase",marginLeft:5},children:r?"DONE":"EDIT"})]})},"edit")})]})}),(0,n.jsxs)(a.ZP.Collapse,{disableAnimation:!0,children:[null==S?void 0:S.map((e,t)=>(0,n.jsx)(a.ZP.CollapseItem,{children:(0,n.jsx)(j.ZP,{color:k===e.id?"primary":"secondary",onPress:()=>{if(z.current){var t;null===(t=z.current)||void 0===t||t.click()}v(e.id),I(e)},ghost:!0,css:{minWidth:"100%"},href:"#",children:e.name})},"headerGroupItem:"+e.id)),(0,n.jsx)(a.ZP.CollapseItem,{children:(0,n.jsx)(j.ZP,{onPress:()=>{if(z.current){var e;null===(e=z.current)||void 0===e||e.click()}N(!0)},css:{minWidth:"100%",borderColor:"grey",backgroundColor:"transparent"},ghost:!0,children:(0,n.jsx)(Z.Z,{style:{color:"gray"}})})})]})]})}var b=r(9837),C=r(2553),w=r(5650),S=r(6562),k=r(7501),I=r(8773);async function v(e,t){try{let r=await fetch(e,t);if(!r)return{error:1,data:null,message:"No response from server"};{let e=await r.json();return e}}catch(e){return{error:1,data:null,message:e.message}}}let N="http://192.168.0.244:9153";async function E(){let e=await v("".concat(N,"/group"));return e}async function G(e,t){let r=await v("".concat(N,"/group"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,type:t})});return r}async function F(e){let t=await v("".concat(N,"/groupItem/").concat(e));return t}async function B(e){let{groupId:t,name:r,type:n,selectedFile:i,url:o,keybind:l,icon:s}=e,a=await v("".concat(N,"/groupItem/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,type:n,selectedFile:i,url:o,keybind:l,icon:s})});return a}async function T(){let e=await v("".concat(N,"/requestFileSelection"));return e}async function D(e){let t=await v("".concat(N,"/groupItem/execute/").concat(e));return t}async function M(e){let t=await v("".concat(N,"/groupItem/").concat(e),{method:"DELETE"});return t}async function R(e,t){let r=await v("".concat(N,"/group/rename/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})});return r}async function z(e){let t=await v("".concat(N,"/group/").concat(e),{method:"DELETE"});return t}async function O(e,t){let r=await v("".concat(N,"/groupItem/rename/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})});return r}async function H(e){let t=await v("".concat(N,"/groupItem/reorder"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({groupItems:e})});return t}async function A(e){let t=await v("".concat(N,"/group/reorder"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({groups:e})});return t}async function W(e){let t=new FormData;t.append("file",e);let r=await v("".concat(N,"/upload/icon"),{method:"POST",body:t});return r}N=window.location.origin;var L=r(6054),_=r(3321),K=r(9829),J=r(336),V=r(1846),q=r(9162);function U(e){let{socket:t}=e,r=e=>(0,n.jsx)(_.Z,{...e,style:{width:"100%",height:"100%",borderRadius:15,backgroundColor:function(e,t){if(!e||void 0===e)return"rgba(255,255,255,0.2)";if("#"===e[0]){let r=e.substring(1),n=parseInt(r,16);return"rgba(".concat(n>>16&255,", ").concat(n>>8&255,", ").concat(255&n,", ").concat(t,")")}if(e.startsWith("rgb")){let r=e.match(/\d+/g);return"rgba(".concat(r[0],", ").concat(r[1],", ").concat(r[2],", ").concat(t,")")}return e}(e.backgroundColor,.8),backdropFilter:"blur(5px)"}}),i=e=>{let r={type:"keyPress",data:{key:e.keyName}};t.send(JSON.stringify(r))},o=[{label:"7",keyName:"NumPad7"},{label:"8",keyName:"NumPad8"},{label:"9",keyName:"NumPad9"},{label:"4",keyName:"NumPad4"},{label:"5",keyName:"NumPad5"},{label:"6",keyName:"NumPad6"},{label:"1",keyName:"NumPad1"},{label:"2",keyName:"NumPad2"},{label:"3",keyName:"NumPad3"},{label:"0",keyName:"NumPad0"},{label:".",keyName:"Period"}].map(e=>(0,n.jsx)(q.ZP,{xs:"0"===e.label?8:4,item:!0,children:(0,n.jsx)(r,{variant:"contained",onClick:()=>{i(e)},children:e.label})},e.label));return(0,n.jsxs)(q.ZP,{container:!0,item:!0,xs:12,direction:"column",children:[(0,n.jsx)(q.ZP,{container:!0,item:!0,xs:1,children:[{label:"Backspace",keyName:"Backspace"},{label:"/",keyName:"Divide"},{label:"*",keyName:"Multiply"},{label:"-",keyName:"Minus"}].map(e=>(0,n.jsx)(q.ZP,{xs:3,item:!0,children:(0,n.jsx)(r,{variant:"contained",backgroundColor:e.backgroundColor?e.backgroundColor:void 0,onClick:()=>{i(e)},children:e.label})},e.keyName))}),(0,n.jsxs)(q.ZP,{container:!0,item:!0,xs:!0,direction:"row",children:[(0,n.jsx)(q.ZP,{container:!0,item:!0,xs:9,children:o}),(0,n.jsx)(q.ZP,{item:!0,container:!0,xs:3,children:(0,n.jsx)(q.ZP,{container:!0,xs:!0,direction:"column",item:!0,children:[{label:"+",keyName:"Add"},{label:"Enter",keyName:"Enter",backgroundColor:"rgb(225, 163, 91)"}].map(e=>(0,n.jsx)(q.ZP,{xs:!0,item:!0,children:(0,n.jsx)(r,{variant:"contained",backgroundColor:e.backgroundColor?e.backgroundColor:void 0,onClick:()=>{i(e)},children:e.label})},e.keyName))})})]})]})}var Y=r(1163);function X(e,t,r){if(e===t||e<0||t<0)return{newArray:r,isModified:!1};let n=r.findIndex(t=>t.id===e),i=r.findIndex(e=>e.id===t);if(-1===n||-1===i)return{newArray:r,isModified:!1};let o=[...r],l=o[n];return o[n]=o[i],o[i]=l,{newArray:o,isModified:!0}}function Q(e){let t=window.location.origin,r=window.matchMedia("(any-hover: none)").matches,i=(0,Y.useRouter)(),o=i.query,[s,a]=l.useState(!1),[c,u]=l.useState(new Set(["file"])),[y,p]=l.useState(""),[g,f]=l.useState(""),[P,v]=l.useState(null),[N,E]=l.useState(!1),[G,F]=l.useState(!1),[R,z]=l.useState(!1),[A,q]=l.useState(null),[Q,$]=l.useState([]),[ee,et]=l.useState(""),[er,en]=l.useState(!1),[ei,eo]=l.useState(-1),[el,es]=l.useState([]),[ea,ec]=l.useState(null),ed=l.useMemo(()=>Array.from(c).join(", ").replaceAll("_"," "),[c]);(0,l.useEffect)(()=>{e.groupItems&&es(e.groupItems)},[e.groupItems]),(0,l.useEffect)(()=>{e.editing||eo(-1)},[e.editing]);let eu=()=>{if(o.action&&"add"===o.action&&(a(!0),o.type)){let e=o.type;u(new Set([e]))}};(0,l.useEffect)(()=>{eu()},[o]);let eh=async()=>{E(!0);let e=await T();1===e.error?E(!1):0===e.error&&(v(e.data),ec(e.data),E(!1))},ex=(0,l.useCallback)(e=>{e.preventDefault(),console.log(e);let t=[];e.ctrlKey&&t.push("Control"),e.shiftKey&&t.push("Shift"),e.altKey&&t.push("Alt"),e.metaKey&&t.push("Command"),[16,17,18,91,93].includes(e.keyCode)?et(""):(e.code.includes("Digit")?et(e.code.replace("Digit","Num")):e.code.includes("Key")&&et(e.code.replace("Key","")),$(t))},[]);(0,l.useEffect)(()=>{""===y&&P&&p(P.name)},[P]);let ej=e=>{let r="";if("keybind"===e.type){if(!e.icon)return(0,n.jsx)(V.Z,{style:{marginBottom:10,color:"white",width:30,height:30}});r=t+"/icons/"+e.icon}return"file"===e.type?r=t+"/icons/"+e.icon:"link"===e.type&&(r=e.icon.startsWith("http")?e.icon:t+"/icons/"+e.icon),(0,n.jsx)(b.ZP,{src:r,style:{marginBottom:10,height:50,width:50,objectFit:"fill"}})},ey=()=>(0,n.jsxs)(C.ZP.Container,{direction:"row",wrap:"wrap",gap:1,children:[el.map((t,r)=>(0,n.jsx)(C.ZP,{draggable:e.editing,onDragStart:e=>{eo(t.id)},onDragOver:e=>{e.preventDefault();let{newArray:r,isModified:n}=X(ei,t.id,el);n&&es(r)},onDragEnd:async e=>{eo(-1),await H(el)},xs:4,sm:2,md:1,style:{aspectRatio:"1/1",display:"flex",overflow:"hidden",opacity:ei===t.id?.5:1},children:(0,n.jsxs)(L.Z,{onClick:()=>{e.editing?(z(!0),q(t)):D(t.id)},style:{borderWidth:3,borderStyle:"solid",borderRadius:10,borderColor:"gray",alignItems:"center",justifyContent:"center",flexDirection:"column",flex:1,overflow:"hidden"},children:[e.editing&&(0,n.jsx)(m.Z,{onClick:e=>{e.stopPropagation(),F(!0),q(t)},color:"error",style:{position:"absolute",top:0,right:0},children:(0,n.jsx)(J.Z,{fontSize:"small"})}),ej(t),(0,n.jsx)(d.Z,{css:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal",width:"calc(100% - 20px)"},children:t.name})]})},"groupItem"+r)),e.groupItems.length<20&&(0,n.jsx)(C.ZP,{xs:4,sm:2,md:1,style:{aspectRatio:"1/1",display:"flex"},children:(0,n.jsx)(_.Z,{onClick:()=>{a(!0)},style:{display:"flex",borderWidth:3,borderStyle:"dashed",flex:1,borderRadius:10,borderColor:"gray",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(Z.Z,{style:{color:"gray"}})})})]}),em=()=>{a(!1),v(null),p(""),f(""),u(new Set(["file"])),$([]),et(""),ec(null)},ep=async()=>{let t,r=ea instanceof File;if(r&&0!==(t=await W(ea)).error){e.setError(t);return}let n=await B({groupId:e.currentGroupId,name:y,url:g,type:c.values().next().value,selectedFile:P,keybind:Q.join("+")+":"+ee,icon:r?t.data:void 0});0===n.error?(em(),e.getGroupItems(e.currentGroupId)):e.setError(n)},eg=()=>{F(!1)},ef=()=>{z(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I.ZP,{variant:"bordered",css:{minHeight:"500px",flex:1},children:(()=>{switch(e.currentGroup.type){case"group":return ey();case"keypad":return(0,n.jsx)(U,{socket:e.socket});default:return null}})()}),(0,n.jsxs)(w.ZP,{closeButton:!0,"aria-labelledby":"Group item create modal",open:s,onClose:em,children:[(0,n.jsx)(w.ZP.Header,{children:(0,n.jsx)(d.Z,{id:"createGroupItem",size:18,children:"Create a new group item"})}),(0,n.jsxs)(w.ZP.Body,{style:{alignItems:"center",justifyContent:"center"},children:[(0,n.jsxs)(C.ZP.Container,{alignItems:"center",gap:2,children:[(0,n.jsx)(C.ZP,{xs:4,justify:"flex-end",children:(0,n.jsx)(d.Z,{children:"Type"})}),(0,n.jsx)(C.ZP,{xs:8,justify:"center",children:(0,n.jsxs)(h.ZP,{children:[(0,n.jsx)(h.ZP.Button,{flat:!0,color:"primary",css:{tt:"capitalize"},children:ed}),(0,n.jsxs)(h.ZP.Menu,{"aria-label":"Group item type selection",color:"primary",disallowEmptySelection:!0,selectionMode:"single",onSelectionChange:e=>{e.has("keybind")&&r?alert("Please set the keybinding on desktop"):u(e)},children:[(0,n.jsx)(h.ZP.Item,{"aria-label":"File",children:"File"},"file"),(0,n.jsx)(h.ZP.Item,{"aria-label":"Link",children:"Link"},"link"),(0,n.jsx)(h.ZP.Item,{"aria-label":"Keybind",children:"Keybind"},"keybind")]})]})})]}),(0,n.jsxs)(C.ZP.Container,{alignItems:"center",gap:2,children:[(0,n.jsx)(C.ZP,{xs:4,justify:"flex-end",children:(0,n.jsx)(d.Z,{children:"Name"})}),(0,n.jsx)(C.ZP,{xs:8,justify:"center",children:(0,n.jsx)(S.ZP,{defaultValue:y,onChange:e=>{er||p(e.target.value)},clearable:!0,bordered:!0,fullWidth:!0,color:"primary",size:"md"})})]}),"file"===ed||"link"===ed?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(C.ZP.Container,{alignItems:"center",gap:2,children:[(0,n.jsx)(C.ZP,{xs:4,justify:"flex-end",children:(0,n.jsx)(d.Z,{children:"file"===ed?"Select File":"URL"})}),(0,n.jsx)(C.ZP,{xs:8,justify:"center",children:"file"===ed?P?(0,n.jsxs)(x.Z,{align:"center",justify:"center",children:[(0,n.jsx)(d.Z,{children:P.nameWithExtension}),(0,n.jsx)(m.Z,{style:{color:"white"},size:"small",onClick:()=>{v(null)},children:(0,n.jsx)(K.Z,{fontSize:"inherit"})})]}):(0,n.jsx)(_.Z,{color:"primary",onClick:eh,children:"Browse"}):(0,n.jsx)(S.ZP,{onChange:e=>{f(e.target.value)},clearable:!0,bordered:!0,fullWidth:!0,color:"primary",size:"md"})})]})}):null,(()=>{if("keybind"!==ed)return null;console.log(Q);let e=[...Q,ee].join("+");return(0,n.jsxs)(C.ZP.Container,{alignItems:"center",gap:2,children:[(0,n.jsx)(C.ZP,{xs:4,justify:"flex-end",children:(0,n.jsx)(d.Z,{children:"Keybind"})}),(0,n.jsx)(C.ZP,{xs:8,justify:"center",children:(0,n.jsx)(S.ZP,{readOnly:!0,value:e,bordered:!0,fullWidth:!0,contentRightStyling:!1})}),(0,n.jsx)(C.ZP,{xs:12,justify:"flex-end",style:{marginTop:-15},children:(0,n.jsx)(j.ZP,{size:"xs",color:er?"error":"primary",onPress:()=>{er?window.removeEventListener("keydown",ex):($([]),et(""),window.addEventListener("keydown",ex)),en(!er)},children:er?"Stop Recording":"Start Recording"})})]})})(),(0,n.jsxs)(C.ZP.Container,{alignItems:"center",gap:2,children:[(0,n.jsx)(C.ZP,{xs:4,justify:"flex-end",children:(0,n.jsx)(d.Z,{children:"Icon"})}),(0,n.jsx)(C.ZP,{xs:8,justify:"center",children:(()=>{if(!ea)return(0,n.jsxs)(_.Z,{variant:"text",component:"label",color:"primary",children:["Upload Icon",(0,n.jsx)("input",{type:"file",hidden:!0,onChange:e=>{e.target.files&&e.target.files.length>0&&(console.log(e.target.files[0]),ec(e.target.files[0]))}})]});{let e=ea instanceof File,r=ea&&e?URL.createObjectURL(ea):"".concat(t,"/icons/").concat(ea.icon);return(0,n.jsxs)(x.Z,{align:"center",justify:"center",children:[(0,n.jsx)(b.ZP,{src:r,width:50,height:50}),(0,n.jsx)(m.Z,{style:{color:"white"},size:"small",onClick:()=>{ec(null)},children:(0,n.jsx)(K.Z,{fontSize:"inherit"})})]})}})()})]})]}),(0,n.jsxs)(w.ZP.Footer,{children:[(0,n.jsx)(_.Z,{color:"secondary",onClick:em,children:"Close"}),(0,n.jsx)(_.Z,{color:"primary",onClick:ep,children:"Create"})]})]}),(0,n.jsx)(w.ZP,{"aria-labelledby":"waiting-for-file",open:N,preventClose:!0,onClose:()=>{E(!1)},children:(0,n.jsx)(w.ZP.Body,{children:(0,n.jsxs)(x.Z,{align:"center",justify:"center",children:[(0,n.jsx)(k.ZP,{}),(0,n.jsx)(d.Z,{style:{marginLeft:10},children:"Please select file on your PC..."})]})})}),(0,n.jsxs)(w.ZP,{closeButton:!0,blur:!0,"aria-labelledby":"confirm-delete",open:G,onClose:eg,children:[(0,n.jsx)(w.ZP.Header,{children:(0,n.jsx)(d.Z,{id:"modal-title",size:18,children:"Delete Group Item"})}),(0,n.jsx)(w.ZP.Body,{style:{alignItems:"center"},children:(0,n.jsx)(d.Z,{children:"Are you sure you want to delete this group item?"})}),(0,n.jsxs)(w.ZP.Footer,{children:[(0,n.jsx)(j.ZP,{auto:!0,flat:!0,color:"secondary",onPress:eg,children:"Cancel"}),(0,n.jsx)(j.ZP,{auto:!0,color:"error",onPress:async()=>{0===(await M(A.id)).error&&e.getGroupItems(e.currentGroupId),F(!1)},children:"Delete"})]})]}),(0,n.jsxs)(w.ZP,{closeButton:!0,blur:!0,"aria-labelledby":"rename-modal",open:R,onClose:ef,children:[(0,n.jsx)(w.ZP.Header,{children:(0,n.jsx)(d.Z,{id:"modal-title",size:18,children:"Rename Item"})}),(0,n.jsx)(w.ZP.Body,{style:{alignItems:"center"},children:(0,n.jsx)(S.ZP,{placeholder:"Item name",bordered:!0,initialValue:A?A.name:"",onChange:e=>{q({...A,name:e.target.value})}})}),(0,n.jsxs)(w.ZP.Footer,{children:[(0,n.jsx)(j.ZP,{auto:!0,flat:!0,color:"secondary",onPress:ef,children:"Cancel"}),(0,n.jsx)(j.ZP,{auto:!0,color:"success",onPress:async()=>{let t=await O(A.id,A.name);0===t.error&&e.getGroupItems(e.currentGroupId),z(!1)},children:"Save"})]})]})]})}function $(e){let[t,r]=l.useState(1),[i,o]=l.useState(!1),[s,a]=l.useState(null),[c,u]=l.useState(!1),[h,x]=l.useState(-1),[y,p]=l.useState([]);l.useEffect(()=>{e.groups&&e.groups.length>0&&(r(e.groups[0].id),p(e.groups),e.setCurrentGroupId(e.groups[0].id),e.setCurrentGroup(e.groups[0]))},[e.groups]);let g=async t=>{let n=t.id;r(n),e.setCurrentGroupId(n),e.setCurrentGroup(t)},f=()=>{o(!1)},P=()=>{u(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I.ZP,{variant:"bordered",css:{minHeight:"500px",justifyContent:"center",width:"100%",height:"100%"},children:(0,n.jsxs)(I.ZP.Body,{style:{alignItems:"center",justifyContent:"flex-start",overflow:"hidden"},children:[y.map(r=>(0,n.jsxs)(L.Z,{draggable:e.editing,onDragStart:e=>{x(r.id)},onDragOver:e=>{e.preventDefault();let{newArray:t,isModified:n}=X(h,r.id,y);n&&p(t)},onDragEnd:async e=>{x(-1),await A(y)},onClick:()=>{e.editing?(o(!0),a(r)):g(r)},style:{borderWidth:0,width:"100%",alignItems:"center",justifyContent:"center",borderRadius:10,height:"10%"},children:[(0,n.jsx)(d.Z,{color:t===r.id?"primary":"none",children:r.name}),e.editing&&(0,n.jsx)(m.Z,{onClick:e=>{e.stopPropagation(),u(!0),a(r)},color:"error",style:{position:"absolute",top:-10,right:-10},children:(0,n.jsx)(J.Z,{fontSize:"small"})})]},"group-"+r.id)),(0,n.jsx)(C.ZP,{children:(0,n.jsx)(_.Z,{onClick:()=>{e.showAddGroupModal()},style:{display:"flex",borderWidth:3,borderStyle:"dashed",borderRadius:10,borderColor:"gray",alignItems:"center",justifyContent:"center",backgroundColor:"transparent"},children:(0,n.jsx)(Z.Z,{style:{color:"gray"}})})})]})}),(0,n.jsxs)(w.ZP,{closeButton:!0,blur:!0,"aria-labelledby":"rename-modal",open:i,onClose:f,children:[(0,n.jsx)(w.ZP.Header,{children:(0,n.jsx)(d.Z,{id:"modal-title",size:18,children:"Rename Group"})}),(0,n.jsx)(w.ZP.Body,{style:{alignItems:"center"},children:(0,n.jsx)(S.ZP,{placeholder:"Group name",bordered:!0,initialValue:s?s.name:"",onChange:e=>{a({...s,name:e.target.value})}})}),(0,n.jsxs)(w.ZP.Footer,{children:[(0,n.jsx)(j.ZP,{auto:!0,flat:!0,color:"secondary",onPress:f,children:"Cancel"}),(0,n.jsx)(j.ZP,{auto:!0,color:"success",onPress:async()=>{let t=await R(s.id,s.name);0===t.error&&e.getGroups(),o(!1)},children:"Save"})]})]}),(0,n.jsxs)(w.ZP,{closeButton:!0,blur:!0,"aria-labelledby":"confirm-delete",open:c,onClose:P,children:[(0,n.jsx)(w.ZP.Header,{children:(0,n.jsx)(d.Z,{id:"modal-title",size:18,children:"Delete Group"})}),(0,n.jsxs)(w.ZP.Body,{style:{alignItems:"center"},children:[(0,n.jsx)(d.Z,{children:"Are you sure you want to delete this group?"}),(0,n.jsx)(d.Z,{color:"warning",children:"This will delete all items in the group as well"})]}),(0,n.jsxs)(w.ZP.Footer,{children:[(0,n.jsx)(j.ZP,{auto:!0,flat:!0,color:"secondary",onPress:P,children:"Cancel"}),(0,n.jsx)(j.ZP,{auto:!0,color:"error",onPress:async()=>{0===(await z(s.id)).error&&e.getGroups(e.currentGroupId),u(!1)},children:"Delete"})]})]})]})}var ee=r(5584);let et="http://192.168.0.244:9153";async function er(){let e=await v("".concat(et,"/system/shutdown"),{method:"GET"});return e}async function en(){let e=await v("".concat(et,"/system/restart"),{method:"GET"});return e}et=window.location.origin;var ei=r(2765);function eo(e){let{socketMessage:t,socket:r,serverAlive:i}=e,s=(0,Y.useRouter)();s.query;let[a,c]=(0,l.useState)([]),[u,y]=(0,l.useState)([]),[m,p]=(0,l.useState)(!1),[g,f]=(0,l.useState)(""),[Z,b]=(0,l.useState)(1),[k,v]=(0,l.useState)(null),[N,B]=(0,l.useState)(!1),[T,D]=(0,l.useState)(!0),[M,R]=(0,l.useState)(!1),[z,O]=(0,l.useState)(!1),[H,A]=(0,l.useState)(!1),[W,L]=(0,l.useState)(new Set(["group"])),[_,K]=(0,l.useState)(null),J=(0,l.useMemo)(()=>Array.from(W).join(", ").replaceAll("_"," "),[W]),V=async()=>{let e=await E();0===e.error?(c(e.data),v(e.data[0])):K(e)},U=async e=>{let t=await F(e);0===t.error?y(t.data):K(t)};(0,l.useEffect)(()=>{V()},[]),(0,l.useEffect)(()=>{A(!i)},[i]),(0,l.useEffect)(()=>{U(Z)},[Z]);let X=()=>{p(!1),L(new Set(["group"]))},et=async()=>{let e=await G(g,J);0===e.error?V():K(e),p(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o(),{children:[(0,n.jsx)("title",{children:"Project Hub"}),(0,n.jsx)("meta",{name:"description",content:"Project Hub Frontend"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsx)(P,{setEditing:B,editing:N,setShutdownModalVisible:R,socketMessage:t,socket:r,groupPanelExpanded:T,setGroupPanelExpanded:D,setRestartModalVisible:O,groups:a,currentGroupId:Z,setCurrentGroupId:b,setCurrentGroup:v,setVisible:p}),(0,n.jsx)(q.ZP,{container:!0,style:{display:"flex",marginTop:10,paddingLeft:24,paddingRight:24,marginBottom:20,flex:1},children:(null==a?void 0:a.length)>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C.ZP,{css:{height:"100%",display:"none",marginRight:T?10:0,"@xs":{display:"inline"}},children:(0,n.jsx)(ee.Z,{sx:{justifyContent:"center",height:"100%"},in:T,orientation:"horizontal",children:(0,n.jsx)($,{editing:N,groups:a,setGroupItems:y,getGroups:V,setCurrentGroupId:b,setCurrentGroup:v,setGroupPanelExpanded:D,groupPanelExpanded:T,showAddGroupModal:()=>{p(!0)},setError:K})})}),(0,n.jsx)(q.ZP,{xs:!0,item:!0,container:!0,marginLeft:0,children:(0,n.jsx)(Q,{editing:N,groupItems:u,currentGroup:k,getGroups:V,getGroupItems:U,currentGroupId:Z,socket:r,setError:K})})]}):(0,n.jsx)(I.ZP,{isPressable:!0,isHoverable:!0,onClick:()=>{p(!0)},variant:"bordered",css:{minHeight:"500px",justifyContent:"center",alignItems:"center"},children:(0,n.jsx)(I.ZP.Body,{children:(0,n.jsx)(d.Z,{children:"Click here to add your first group"})})})}),(0,n.jsxs)(w.ZP,{closeButton:!0,"aria-labelledby":"modal-title",open:m,onClose:X,children:[(0,n.jsx)(w.ZP.Header,{children:(0,n.jsx)(d.Z,{id:"modal-title",size:18,children:"Create a new group"})}),(0,n.jsxs)(w.ZP.Body,{children:[(0,n.jsxs)(q.ZP,{container:!0,alignItems:"center",children:[(0,n.jsx)(q.ZP,{item:!0,xs:6,md:6,container:!0,justifyContent:"center",children:(0,n.jsx)(d.Z,{children:"Type"})}),(0,n.jsx)(q.ZP,{item:!0,xs:6,md:6,children:(0,n.jsxs)(h.ZP,{children:[(0,n.jsx)(h.ZP.Button,{flat:!0,color:"primary",css:{tt:"capitalize"},children:J}),(0,n.jsxs)(h.ZP.Menu,{"aria-label":"Single selection actions",color:"primary",disallowEmptySelection:!0,selectionMode:"single",onSelectionChange:e=>{L(e)},children:[(0,n.jsx)(h.ZP.Item,{children:"Group"},"group"),(0,n.jsx)(h.ZP.Item,{children:"Keypad"},"keypad")]})]})})]}),(0,n.jsx)(S.ZP,{onChange:e=>{f(e.target.value)},clearable:!0,bordered:!0,fullWidth:!0,color:"primary",size:"lg",placeholder:"Group Name"})]}),(0,n.jsxs)(w.ZP.Footer,{children:[(0,n.jsx)(j.ZP,{auto:!0,flat:!0,color:"error",onPress:X,children:"Close"}),(0,n.jsx)(j.ZP,{auto:!0,onPress:et,children:"Create"})]})]}),(0,n.jsxs)(w.ZP,{closeButton:!0,"aria-labelledby":"modal-title",open:M,onClose:()=>{R(!1)},children:[(0,n.jsx)(w.ZP.Header,{children:(0,n.jsx)(d.Z,{id:"modal-title",size:18,children:"Shut down your computer?"})}),(0,n.jsxs)(w.ZP.Footer,{children:[(0,n.jsx)(j.ZP,{auto:!0,flat:!0,color:"error",onPress:()=>{R(!1)},children:"Cancel"}),(0,n.jsx)(j.ZP,{auto:!0,onPress:()=>{er()},children:"Confirm"})]})]}),(0,n.jsxs)(w.ZP,{closeButton:!0,"aria-labelledby":"restart-modal",open:z,onClose:()=>{O(!1)},children:[(0,n.jsx)(w.ZP.Header,{children:(0,n.jsx)(d.Z,{id:"modal-title",size:18,children:"Restart your computer?"})}),(0,n.jsxs)(w.ZP.Footer,{children:[(0,n.jsx)(j.ZP,{auto:!0,flat:!0,color:"error",onPress:()=>{O(!1)},children:"Cancel"}),(0,n.jsx)(j.ZP,{auto:!0,onPress:()=>{en()},children:"Confirm"})]})]}),(0,n.jsxs)(w.ZP,{"aria-labelledby":"modal-title",preventClose:!0,blur:!0,open:H,onClose:()=>{A(!1)},children:[(0,n.jsxs)(w.ZP.Header,{children:[(0,n.jsx)(ei.Z,{sx:{fontSize:20,marginRight:0}}),(0,n.jsx)(d.Z,{id:"modal-title",size:18,style:{marginLeft:5},children:"Disconnected"})]}),(0,n.jsx)(w.ZP.Body,{children:(0,n.jsx)(d.Z,{children:"Please restart Project Hub server and refresh the page."})})]}),(0,n.jsxs)(w.ZP,{closeButton:!0,"aria-labelledby":"Error",open:null!==_,onClose:X,children:[(0,n.jsx)(w.ZP.Header,{children:(0,n.jsx)(d.Z,{id:"error-modal-title",size:18,children:"Error"})}),(0,n.jsx)(w.ZP.Body,{children:(0,n.jsx)(x.Z,{justify:"center",children:(0,n.jsx)(d.Z,{children:null==_?void 0:_.message})})}),(0,n.jsx)(w.ZP.Footer,{children:(0,n.jsx)(j.ZP,{auto:!0,flat:!0,color:"error",onPress:()=>{K(null)},children:"Close"})})]})]})}}},function(e){e.O(0,[202,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);