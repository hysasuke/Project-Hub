(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3496)}])},3496:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eu}});var r=n(5893),s=n(9008),l=n.n(s),i=n(7294),a=n(6249),o=n(4040),c=n(6979),d=n(9048),u=n(3165),h=n(2495),x=n(9743),j=n(6429),m=n(7690),y=n(7976),p=n(3946);let g=e=>{let t=i.useRef(),n=i.useRef(),r=s=>{if(void 0!=n.current){let t=s-n.current;e(t)}n.current=s,t.current=requestAnimationFrame(r)};i.useEffect(()=>(t.current=requestAnimationFrame(r),()=>cancelAnimationFrame(t.current)),[])};var f=n(9858),Z=n(9066),P=n(5924),b=n(2295),w=n(6340),C=n(8327);let k="http://192.168.0.241:9153";async function S(){let e=await fetch("".concat(k,"/system/shutdown"),{method:"GET"}),t=await e.json();return t}async function I(){let e=await fetch("".concat(k,"/system/restart"),{method:"GET"}),t=await e.json();return t}async function v(){let e=await fetch("".concat(k,"/system/volume"),{method:"GET"}),t=await e.json();return t}k="http://192.168.0.241:9153";var N=n(7957),E=n(4282),G=n(685),T=n(6540);function B(e){let{setEditing:t,editing:n,setShutdownModalVisible:s,socketMessage:l,socket:k,groupPanelExpanded:S,setGroupPanelExpanded:I,setRestartModalVisible:B,groups:F,currentGroupId:R,setCurrentGroup:D,setCurrentGroupId:z,setVisible:M}=e;(0,a.Z)();let[H,L]=i.useState(""),[O,A]=i.useState(0),[_,W]=i.useState(0),[J,K]=i.useState(!1),V=i.useRef(null);g(()=>{L(q())}),(0,i.useEffect)(()=>{let e=async()=>{let e=await v();0===e.error&&(A(e.data.volume),W(e.data.volume),K(e.data.muted))};e()},[]),(0,i.useEffect)(()=>{l&&"system_volume"===l.type&&(Object.keys(l.data).includes("muted")?K(l.data.muted):Object.keys(l.data).includes("volume")&&(A(l.data.volume),W(l.data.volume)))},[l]);let q=()=>{let e=new Date,t=10>e.getHours()?"0".concat(e.getHours()):e.getHours(),n=10>e.getMinutes()?"0".concat(e.getMinutes()):e.getMinutes(),r=10>e.getSeconds()?"0".concat(e.getSeconds()):e.getSeconds(),s="".concat(t,":").concat(n,":").concat(r);return s};return(0,r.jsxs)(d.ZP,{isBordered:!0,variant:"floating",maxWidth:"fluid",children:[(0,r.jsx)(d.ZP.Toggle,{ref:V,showIn:"xs"}),(0,r.jsxs)(d.ZP.Brand,{css:{"@xs":{w:"12%"}},children:[(0,r.jsx)(u.Z,{css:{display:"none","@xs":{display:"inline"}},children:(0,r.jsx)(p.Z,{onClick:()=>{I(!S)},children:(0,r.jsx)(G.Z,{style:{color:"white",transform:"rotate(".concat(S?"0deg":"180deg",")")}})})}),(0,r.jsx)(c.Z,{b:!0,color:"inherit",hideIn:"xs",children:"Project Hub"})]}),(0,r.jsx)(d.ZP.Content,{style:{flex:1,justifyContent:"center"},children:(0,r.jsx)(h.ZP,{content:(()=>{let e=new Date,t=10>e.getDate()?"0".concat(e.getDate()):e.getDate(),n=e.getMonth()+1<10?"0".concat(e.getMonth()+1):e.getMonth()+1,r=10>e.getFullYear()?"0".concat(e.getFullYear()):e.getFullYear(),s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],l="".concat(r,"-").concat(n,"-").concat(t," ").concat(s);return l})(),rounded:!0,placement:"bottom",children:(0,r.jsx)(c.Z,{b:!0,color:"inherit",hideIn:"xs",children:H})})}),(0,r.jsxs)(d.ZP.Content,{css:{"@xs":{w:"12%",jc:"flex-end"}},children:[(0,r.jsxs)(x.Z,{children:[(0,r.jsx)(x.Z.Trigger,{children:(0,r.jsx)(p.Z,{style:{color:"white"},children:J?(0,r.jsx)(b.Z,{}):0===_?(0,r.jsx)(P.Z,{}):_<50?(0,r.jsx)(Z.Z,{}):_>=50?(0,r.jsx)(w.Z,{}):null})}),(0,r.jsx)(x.Z.Content,{children:(0,r.jsxs)(o.Z,{style:{width:200,padding:20},align:"center",children:[(0,r.jsx)(c.Z,{children:_}),(0,r.jsx)(C.ZP,{size:"small","aria-label":"Volume",value:_,style:{marginLeft:10},min:0,max:100,onChangeCommitted:(e,t)=>{k&&k.send(JSON.stringify({type:"system_volume",data:{volume:t}}))},onChange:e=>{let t=e.target;parseInt(t.value)>=0&&W(parseInt(t.value))}})]})})]}),(0,r.jsxs)(j.ZP,{placement:"bottom-right",children:[(0,r.jsx)(d.ZP.Item,{children:(0,r.jsx)(j.ZP.Trigger,{children:(0,r.jsx)(p.Z,{style:{color:"white"},children:(0,r.jsx)(y.Z,{})})})}),(0,r.jsxs)(j.ZP.Menu,{"aria-label":"Actions",color:"secondary",onAction:e=>{switch(e){case"edit":t(!n);break;case"shutdown":s(!0);break;case"restart":B(!0)}},children:[(0,r.jsx)(j.ZP.Item,{color:n?"success":"primary",children:(0,r.jsxs)(o.Z,{align:"center",children:[(0,r.jsx)(N.Z,{}),(0,r.jsx)(c.Z,{style:{textTransform:"uppercase",marginLeft:5},children:n?"DONE":"EDIT"})]})},"edit"),(0,r.jsx)(j.ZP.Item,{withDivider:!0,color:"warning",children:(0,r.jsxs)(o.Z,{align:"center",children:[(0,r.jsx)(E.Z,{}),(0,r.jsx)(c.Z,{style:{textTransform:"uppercase",marginLeft:5},children:"Restart"})]})},"restart"),(0,r.jsx)(j.ZP.Item,{color:"error",children:(0,r.jsxs)(o.Z,{align:"center",children:[(0,r.jsx)(f.Z,{}),(0,r.jsx)(c.Z,{style:{textTransform:"uppercase",marginLeft:5},children:"Shutdown"})]})},"shutdown")]})]})]}),(0,r.jsxs)(d.ZP.Collapse,{disableAnimation:!0,children:[F.map((e,t)=>(0,r.jsx)(d.ZP.CollapseItem,{children:(0,r.jsx)(m.ZP,{color:R===e.id?"primary":"secondary",onPress:()=>{if(V.current){var t;null===(t=V.current)||void 0===t||t.click()}z(e.id),D(e)},ghost:!0,css:{minWidth:"100%"},href:"#",children:e.name})},"headerGroupItem:"+e.id)),(0,r.jsx)(d.ZP.CollapseItem,{children:(0,r.jsx)(m.ZP,{onPress:()=>{if(V.current){var e;null===(e=V.current)||void 0===e||e.click()}M(!0)},css:{minWidth:"100%",borderColor:"grey",backgroundColor:"transparent"},ghost:!0,children:(0,r.jsx)(T.Z,{style:{color:"gray"}})})})]})]})}var F=n(9837),R=n(2553),D=n(5650),z=n(6562),M=n(7501),H=n(8773);let L="http://192.168.0.241:9153";async function O(){let e=await fetch("".concat(L,"/group")),t=await e.json();return t}async function A(e,t){let n=await fetch("".concat(L,"/group"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,type:t})}),r=await n.json();return r}async function _(e){let t=await fetch("".concat(L,"/groupItem/").concat(e)),n=await t.json();return n}async function W(e){let{groupId:t,name:n,type:r,selectedFile:s,url:l,keybind:i}=e,a=await fetch("".concat(L,"/groupItem/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,type:r,selectedFile:s,url:l,keybind:i})}),o=await a.json();return o}async function J(){let e=await fetch("".concat(L,"/requestFileSelection")),t=await e.json();return t}async function K(e){let t=await fetch("".concat(L,"/groupItem/execute/").concat(e)),n=await t.json();return n}async function V(e){let t=await fetch("".concat(L,"/groupItem/").concat(e),{method:"DELETE"}),n=await t.json();return n}async function q(e,t){let n=await fetch("".concat(L,"/group/rename/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})}),r=await n.json();return r}async function Y(e){let t=await fetch("".concat(L,"/group/").concat(e),{method:"DELETE"}),n=await t.json();return n}async function X(e,t){let n=await fetch("".concat(L,"/groupItem/rename/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})}),r=await n.json();return r}async function U(e){let t=await fetch("".concat(L,"/groupItem/reorder"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({groupItems:e})}),n=await t.json();return n}L="http://192.168.0.241:9153";var Q=n(6054),$=n(3321),ee=n(9829),et=n(336),en=n(1846),er=n(9162);function es(e){let{socket:t}=e,n=e=>(0,r.jsx)($.Z,{...e,style:{width:"100%",height:"100%",borderRadius:15,backgroundColor:function(e,t){if(!e||void 0===e)return"rgba(255,255,255,0.2)";if("#"===e[0]){let n=e.substring(1),r=parseInt(n,16);return"rgba(".concat(r>>16&255,", ").concat(r>>8&255,", ").concat(255&r,", ").concat(t,")")}if(e.startsWith("rgb")){let n=e.match(/\d+/g);return"rgba(".concat(n[0],", ").concat(n[1],", ").concat(n[2],", ").concat(t,")")}return e}(e.backgroundColor,.8),backdropFilter:"blur(5px)"}}),s=e=>{let n={type:"keyPress",data:{key:e.keyName}};t.send(JSON.stringify(n))},l=[{label:"7",keyName:"NumPad7"},{label:"8",keyName:"NumPad8"},{label:"9",keyName:"NumPad9"},{label:"4",keyName:"NumPad4"},{label:"5",keyName:"NumPad5"},{label:"6",keyName:"NumPad6"},{label:"1",keyName:"NumPad1"},{label:"2",keyName:"NumPad2"},{label:"3",keyName:"NumPad3"},{label:"0",keyName:"NumPad0"},{label:".",keyName:"Period"}].map(e=>(0,r.jsx)(er.ZP,{xs:"0"===e.label?8:4,item:!0,children:(0,r.jsx)(n,{variant:"contained",onClick:()=>{s(e)},children:e.label})},e.label));return(0,r.jsxs)(er.ZP,{container:!0,item:!0,xs:12,direction:"column",children:[(0,r.jsx)(er.ZP,{container:!0,item:!0,xs:1,children:[{label:"Backspace",keyName:"Backspace"},{label:"/",keyName:"Divide"},{label:"*",keyName:"Multiply"},{label:"-",keyName:"Minus"}].map(e=>(0,r.jsx)(er.ZP,{xs:3,item:!0,children:(0,r.jsx)(n,{variant:"contained",backgroundColor:e.backgroundColor?e.backgroundColor:void 0,onClick:()=>{s(e)},children:e.label})},e.keyName))}),(0,r.jsxs)(er.ZP,{container:!0,item:!0,xs:!0,direction:"row",children:[(0,r.jsx)(er.ZP,{container:!0,item:!0,xs:9,children:l}),(0,r.jsx)(er.ZP,{item:!0,container:!0,xs:3,children:(0,r.jsx)(er.ZP,{container:!0,xs:!0,direction:"column",item:!0,children:[{label:"+",keyName:"Add"},{label:"Enter",keyName:"Enter",backgroundColor:"rgb(225, 163, 91)"}].map(e=>(0,r.jsx)(er.ZP,{xs:!0,item:!0,children:(0,r.jsx)(n,{variant:"contained",backgroundColor:e.backgroundColor?e.backgroundColor:void 0,onClick:()=>{s(e)},children:e.label})},e.keyName))})})]})]})}var el=n(1163);let ei="http://192.168.0.241:9153";function ea(e){let t=window.matchMedia("(any-hover: none)").matches,n=(0,el.useRouter)(),s=n.query,[l,a]=i.useState(!1),[d,u]=i.useState(new Set(["file"])),[h,x]=i.useState(""),[y,g]=i.useState(""),[f,Z]=i.useState(null),[P,b]=i.useState(!1),[w,C]=i.useState(!1),[k,S]=i.useState(!1),[I,v]=i.useState(null),[N,E]=i.useState([]),[G,B]=i.useState(""),[L,O]=i.useState(!1),[A,_]=i.useState(-1),[q,Y]=i.useState([]),er=i.useMemo(()=>Array.from(d).join(", ").replaceAll("_"," "),[d]);(0,i.useEffect)(()=>{e.groupItems&&Y(e.groupItems)},[e.groupItems]),(0,i.useEffect)(()=>{e.editing||_(-1)},[e.editing]);let ea=()=>{if(s.action&&"add"===s.action&&(a(!0),s.type)){let e=s.type;u(new Set([e]))}};(0,i.useEffect)(()=>{ea()},[s]);let eo=async()=>{b(!0);let e=await J();1===e.error?b(!1):0===e.error&&(Z(e.data),b(!1))},ec=(0,i.useCallback)(e=>{e.preventDefault(),"Shift"!==e.key||N.includes("Shift")?"Control"!==e.key||N.includes("Control")?"Alt"!==e.key||N.includes("Alt")?e.key&&G!==e.key&&!["Control","Shift","Alt"].includes(e.key)&&(e.code.includes("Digit")?B(e.code.replace("Digit","Num")):e.code.includes("Key")&&B(e.code.replace("Key",""))):E([...N,(e.code.includes("Left")?"Left":"Right")+"Alt"]):E([...N,(e.code.includes("Left")?"Left":"Right")+"Control"]):E([...N,(e.code.includes("Left")?"Left":"Right")+"Shift"])},[]);(0,i.useEffect)(()=>{""===h&&f&&x(f.name)},[f]);let ed=e=>{if("keybind"===e.type)return(0,r.jsx)(en.Z,{style:{marginBottom:10,color:"white",width:30,height:30}});let t="";return"file"===e.type?t=ei+"/icons/"+e.icon:"link"===e.type&&(t=e.icon),(0,r.jsx)(F.ZP,{src:t,style:{marginBottom:10,height:50,width:50,objectFit:"fill"}})},eu=(e,t)=>{if(e===t||e<0||t<0)return;let n=q.findIndex(t=>t.id===e),r=q.findIndex(e=>e.id===t);if(-1===n||-1===r)return;let s=[...q],l=s[n];s[n]=s[r],s[r]=l,Y(s)},eh=()=>(0,r.jsxs)(R.ZP.Container,{direction:"row",wrap:"wrap",gap:1,children:[q.map((t,n)=>(0,r.jsx)(R.ZP,{draggable:e.editing,onDragStart:e=>{_(t.id)},onDragOver:e=>{e.preventDefault(),eu(A,t.id)},onDragEnd:async e=>{_(-1),await U(q)},xs:4,sm:2,md:1,style:{aspectRatio:"1/1",display:"flex",overflow:"hidden",opacity:A===t.id?.5:1},children:(0,r.jsxs)(Q.Z,{onClick:()=>{e.editing?(S(!0),v(t)):K(t.id)},style:{borderWidth:3,borderStyle:"solid",borderRadius:10,borderColor:"gray",alignItems:"center",justifyContent:"center",flexDirection:"column",flex:1,overflow:"hidden"},children:[e.editing&&(0,r.jsx)(p.Z,{onClick:e=>{e.stopPropagation(),C(!0),v(t)},color:"error",style:{position:"absolute",top:0,right:0},children:(0,r.jsx)(et.Z,{fontSize:"small"})}),ed(t),(0,r.jsx)(c.Z,{css:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal",width:"calc(100% - 20px)"},children:t.name})]})},"groupItem"+n)),e.groupItems.length<20&&(0,r.jsx)(R.ZP,{xs:4,sm:2,md:1,style:{aspectRatio:"1/1",display:"flex"},children:(0,r.jsx)($.Z,{onClick:()=>{a(!0)},style:{display:"flex",borderWidth:3,borderStyle:"dashed",flex:1,borderRadius:10,borderColor:"gray",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(T.Z,{style:{color:"gray"}})})})]}),ex=()=>{a(!1),Z(null),x(""),g(""),u(new Set(["file"])),E([]),B("")},ej=async()=>{let t=await W({groupId:e.currentGroupId,name:h,url:y,type:d.values().next().value,selectedFile:f,keybind:N.join("+")+":"+G});0===t.error&&(ex(),e.getGroupItems(e.currentGroupId))},em=()=>{C(!1)},ey=()=>{S(!1)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(H.ZP,{variant:"bordered",css:{minHeight:"500px",flex:1},children:(()=>{switch(e.currentGroup.type){case"group":return eh();case"keypad":return(0,r.jsx)(es,{socket:e.socket});default:return null}})()}),(0,r.jsxs)(D.ZP,{closeButton:!0,"aria-labelledby":"modal-title",open:l,onClose:ex,children:[(0,r.jsx)(D.ZP.Header,{children:(0,r.jsx)(c.Z,{id:"modal-title",size:18,children:"Create a new group item"})}),(0,r.jsxs)(D.ZP.Body,{style:{alignItems:"center",justifyContent:"center"},children:[(0,r.jsxs)(R.ZP.Container,{alignItems:"center",gap:2,children:[(0,r.jsx)(R.ZP,{xs:4,justify:"flex-end",children:(0,r.jsx)(c.Z,{children:"Type"})}),(0,r.jsx)(R.ZP,{xs:8,justify:"center",children:(0,r.jsxs)(j.ZP,{children:[(0,r.jsx)(j.ZP.Button,{flat:!0,color:"primary",css:{tt:"capitalize"},children:er}),(0,r.jsxs)(j.ZP.Menu,{"aria-label":"Single selection actions",color:"primary",disallowEmptySelection:!0,selectionMode:"single",selectedKeys:d,onSelectionChange:e=>{e.has("keybind")&&t?alert("Please set the keybinding on desktop"):u(e)},children:[(0,r.jsx)(j.ZP.Item,{children:"File"},"file"),(0,r.jsx)(j.ZP.Item,{children:"Link"},"link"),(0,r.jsx)(j.ZP.Item,{children:"Keybind"},"keybind")]})]})})]}),(0,r.jsxs)(R.ZP.Container,{alignItems:"center",gap:2,children:[(0,r.jsx)(R.ZP,{xs:4,justify:"flex-end",children:(0,r.jsx)(c.Z,{children:"Name"})}),(0,r.jsx)(R.ZP,{xs:8,justify:"center",children:(0,r.jsx)(z.ZP,{value:h,onChange:e=>{L||x(e.target.value)},clearable:!0,bordered:!0,fullWidth:!0,color:"primary",size:"md"})})]}),"file"===er||"link"===er?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(R.ZP.Container,{alignItems:"center",gap:2,children:[(0,r.jsx)(R.ZP,{xs:4,justify:"flex-end",children:(0,r.jsx)(c.Z,{children:"file"===er?"Select File":"URL"})}),(0,r.jsx)(R.ZP,{xs:8,justify:"center",children:"file"===er?f?(0,r.jsxs)(o.Z,{align:"center",justify:"center",children:[(0,r.jsx)(c.Z,{children:f.nameWithExtension}),(0,r.jsx)(p.Z,{style:{color:"white"},size:"small",onClick:()=>{Z(null)},children:(0,r.jsx)(ee.Z,{fontSize:"inherit"})})]}):(0,r.jsx)($.Z,{color:"primary",onClick:eo,children:"Browse"}):(0,r.jsx)(z.ZP,{onChange:e=>{g(e.target.value)},clearable:!0,bordered:!0,fullWidth:!0,color:"primary",size:"md"})})]})}):null,(()=>{if("keybind"!==er)return null;let e=[...N,G].join("+");return(0,r.jsxs)(R.ZP.Container,{alignItems:"center",gap:2,children:[(0,r.jsx)(R.ZP,{xs:4,justify:"flex-end",children:(0,r.jsx)(c.Z,{children:"Keybind"})}),(0,r.jsx)(R.ZP,{xs:8,justify:"center",children:(0,r.jsx)(z.ZP,{readOnly:!0,value:e,bordered:!0,fullWidth:!0,contentRightStyling:!1})}),(0,r.jsx)(R.ZP,{xs:12,justify:"flex-end",style:{marginTop:-15},children:(0,r.jsx)(m.ZP,{size:"xs",color:L?"error":"primary",onPress:()=>{L?window.removeEventListener("keydown",ec):(E([]),B(""),window.addEventListener("keydown",ec)),O(!L)},children:L?"Stop Recording":"Start Recording"})})]})})()]}),(0,r.jsxs)(D.ZP.Footer,{children:[(0,r.jsx)($.Z,{color:"secondary",onClick:ex,children:"Close"}),(0,r.jsx)($.Z,{color:"primary",onClick:ej,children:"Create"})]})]}),(0,r.jsx)(D.ZP,{"aria-labelledby":"waiting-for-file",open:P,preventClose:!0,onClose:()=>{b(!1)},children:(0,r.jsx)(D.ZP.Body,{children:(0,r.jsxs)(o.Z,{align:"center",justify:"center",children:[(0,r.jsx)(M.ZP,{}),(0,r.jsx)(c.Z,{style:{marginLeft:10},children:"Please select file on your PC..."})]})})}),(0,r.jsxs)(D.ZP,{closeButton:!0,blur:!0,"aria-labelledby":"confirm-delete",open:w,onClose:em,children:[(0,r.jsx)(D.ZP.Header,{children:(0,r.jsx)(c.Z,{id:"modal-title",size:18,children:"Delete Group Item"})}),(0,r.jsx)(D.ZP.Body,{style:{alignItems:"center"},children:(0,r.jsx)(c.Z,{children:"Are you sure you want to delete this group item?"})}),(0,r.jsxs)(D.ZP.Footer,{children:[(0,r.jsx)(m.ZP,{auto:!0,flat:!0,color:"secondary",onPress:em,children:"Cancel"}),(0,r.jsx)(m.ZP,{auto:!0,color:"error",onPress:async()=>{0===(await V(I.id)).error&&e.getGroupItems(e.currentGroupId),C(!1)},children:"Delete"})]})]}),(0,r.jsxs)(D.ZP,{closeButton:!0,blur:!0,"aria-labelledby":"rename-modal",open:k,onClose:ey,children:[(0,r.jsx)(D.ZP.Header,{children:(0,r.jsx)(c.Z,{id:"modal-title",size:18,children:"Rename Item"})}),(0,r.jsx)(D.ZP.Body,{style:{alignItems:"center"},children:(0,r.jsx)(z.ZP,{placeholder:"Item name",bordered:!0,initialValue:I?I.name:"",onChange:e=>{v({...I,name:e.target.value})}})}),(0,r.jsxs)(D.ZP.Footer,{children:[(0,r.jsx)(m.ZP,{auto:!0,flat:!0,color:"secondary",onPress:ey,children:"Cancel"}),(0,r.jsx)(m.ZP,{auto:!0,color:"success",onPress:async()=>{let t=await X(I.id,I.name);0===t.error&&e.getGroupItems(e.currentGroupId),S(!1)},children:"Save"})]})]})]})}function eo(e){let[t,n]=i.useState(1),[s,l]=i.useState(!1),[a,o]=i.useState(null),[d,u]=i.useState(!1),h=async t=>{let r=t.id;n(r),e.setCurrentGroupId(r),e.setCurrentGroup(t)},x=()=>{l(!1)},j=()=>{u(!1)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(H.ZP,{variant:"bordered",css:{minHeight:"500px",justifyContent:"center",width:"100%",height:"100%"},children:(0,r.jsxs)(H.ZP.Body,{style:{alignItems:"center",justifyContent:"flex-start",overflow:"hidden"},children:[e.groups.map(n=>(0,r.jsxs)(Q.Z,{onClick:()=>{e.editing?(l(!0),o(n)):h(n)},style:{borderWidth:0,width:"100%",alignItems:"center",justifyContent:"center",borderRadius:10,height:"10%"},children:[(0,r.jsx)(c.Z,{color:t===n.id?"primary":"none",children:n.name}),e.editing&&(0,r.jsx)(p.Z,{onClick:e=>{e.stopPropagation(),u(!0),o(n)},color:"error",style:{position:"absolute",top:-10,right:-10},children:(0,r.jsx)(et.Z,{fontSize:"small"})})]},"group-"+n.id)),(0,r.jsx)(R.ZP,{children:(0,r.jsx)($.Z,{onClick:()=>{e.showAddGroupModal()},style:{display:"flex",borderWidth:3,borderStyle:"dashed",borderRadius:10,borderColor:"gray",alignItems:"center",justifyContent:"center",backgroundColor:"transparent"},children:(0,r.jsx)(T.Z,{style:{color:"gray"}})})})]})}),(0,r.jsxs)(D.ZP,{closeButton:!0,blur:!0,"aria-labelledby":"rename-modal",open:s,onClose:x,children:[(0,r.jsx)(D.ZP.Header,{children:(0,r.jsx)(c.Z,{id:"modal-title",size:18,children:"Rename Group"})}),(0,r.jsx)(D.ZP.Body,{style:{alignItems:"center"},children:(0,r.jsx)(z.ZP,{placeholder:"Group name",bordered:!0,initialValue:a?a.name:"",onChange:e=>{o({...a,name:e.target.value})}})}),(0,r.jsxs)(D.ZP.Footer,{children:[(0,r.jsx)(m.ZP,{auto:!0,flat:!0,color:"secondary",onPress:x,children:"Cancel"}),(0,r.jsx)(m.ZP,{auto:!0,color:"success",onPress:async()=>{let t=await q(a.id,a.name);0===t.error&&e.getGroups(),l(!1)},children:"Save"})]})]}),(0,r.jsxs)(D.ZP,{closeButton:!0,blur:!0,"aria-labelledby":"confirm-delete",open:d,onClose:j,children:[(0,r.jsx)(D.ZP.Header,{children:(0,r.jsx)(c.Z,{id:"modal-title",size:18,children:"Delete Group"})}),(0,r.jsxs)(D.ZP.Body,{style:{alignItems:"center"},children:[(0,r.jsx)(c.Z,{children:"Are you sure you want to delete this group?"}),(0,r.jsx)(c.Z,{color:"warning",children:"This will delete all items in the group as well"})]}),(0,r.jsxs)(D.ZP.Footer,{children:[(0,r.jsx)(m.ZP,{auto:!0,flat:!0,color:"secondary",onPress:j,children:"Cancel"}),(0,r.jsx)(m.ZP,{auto:!0,color:"error",onPress:async()=>{0===(await Y(a.id)).error&&e.getGroups(e.currentGroupId),u(!1)},children:"Delete"})]})]})]})}ei="http://192.168.0.241:9153";var ec=n(5584),ed=n(2765);function eu(e){let{socketMessage:t,socket:n,serverAlive:s}=e,a=(0,el.useRouter)();a.query;let[o,d]=(0,i.useState)([]),[u,h]=(0,i.useState)([]),[x,y]=(0,i.useState)(!1),[p,g]=(0,i.useState)(""),[f,Z]=(0,i.useState)(1),[P,b]=(0,i.useState)(null),[w,C]=(0,i.useState)(!1),[k,v]=(0,i.useState)(!0),[N,E]=(0,i.useState)(!1),[G,T]=(0,i.useState)(!1),[F,M]=(0,i.useState)(!1),[L,W]=(0,i.useState)(new Set(["group"])),J=(0,i.useMemo)(()=>Array.from(L).join(", ").replaceAll("_"," "),[L]),K=async()=>{let e=await O();0===e.error&&(d(e.data),b(e.data[0]))},V=async e=>{let t=await _(e);0===t.error&&h(t.data)};(0,i.useEffect)(()=>{K()},[]),(0,i.useEffect)(()=>{M(!s)},[s]),(0,i.useEffect)(()=>{V(f)},[f]);let q=()=>{y(!1),W(new Set(["group"]))},Y=async()=>{0===(await A(p,J)).error&&K(),y(!1)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l(),{children:[(0,r.jsx)("title",{children:"Project Hub"}),(0,r.jsx)("meta",{name:"description",content:"Project Hub Frontend"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)(B,{setEditing:C,editing:w,setShutdownModalVisible:E,socketMessage:t,socket:n,groupPanelExpanded:k,setGroupPanelExpanded:v,setRestartModalVisible:T,groups:o,currentGroupId:f,setCurrentGroupId:Z,setCurrentGroup:b,setVisible:y}),(0,r.jsx)(er.ZP,{container:!0,style:{display:"flex",marginTop:10,paddingLeft:24,paddingRight:24,marginBottom:20,flex:1},children:o.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(R.ZP,{css:{height:"100%",display:"none",marginRight:k?10:0,"@xs":{display:"inline"}},children:(0,r.jsx)(ec.Z,{sx:{justifyContent:"center",height:"100%"},in:k,orientation:"horizontal",children:(0,r.jsx)(eo,{editing:w,groups:o,setGroupItems:h,getGroups:K,setCurrentGroupId:Z,setCurrentGroup:b,setGroupPanelExpanded:v,groupPanelExpanded:k,showAddGroupModal:()=>{y(!0)}})})}),(0,r.jsx)(er.ZP,{xs:!0,item:!0,container:!0,marginLeft:0,children:(0,r.jsx)(ea,{editing:w,groupItems:u,currentGroup:P,getGroups:K,getGroupItems:V,currentGroupId:f,socket:n})})]}):(0,r.jsx)(H.ZP,{isPressable:!0,isHoverable:!0,onClick:()=>{y(!0)},variant:"bordered",css:{minHeight:"500px",justifyContent:"center",alignItems:"center"},children:(0,r.jsx)(H.ZP.Body,{children:(0,r.jsx)(c.Z,{children:"Click here to add your first group"})})})}),(0,r.jsxs)(D.ZP,{closeButton:!0,"aria-labelledby":"modal-title",open:x,onClose:q,children:[(0,r.jsx)(D.ZP.Header,{children:(0,r.jsx)(c.Z,{id:"modal-title",size:18,children:"Create a new group"})}),(0,r.jsxs)(D.ZP.Body,{children:[(0,r.jsxs)(er.ZP,{container:!0,alignItems:"center",children:[(0,r.jsx)(er.ZP,{item:!0,xs:6,md:6,container:!0,justifyContent:"center",children:(0,r.jsx)(c.Z,{children:"Type"})}),(0,r.jsx)(er.ZP,{item:!0,xs:6,md:6,children:(0,r.jsxs)(j.ZP,{children:[(0,r.jsx)(j.ZP.Button,{flat:!0,color:"primary",css:{tt:"capitalize"},children:J}),(0,r.jsxs)(j.ZP.Menu,{"aria-label":"Single selection actions",color:"primary",disallowEmptySelection:!0,selectionMode:"single",selectedKeys:L,onSelectionChange:e=>{W(e)},children:[(0,r.jsx)(j.ZP.Item,{children:"Group"},"group"),(0,r.jsx)(j.ZP.Item,{children:"Keypad"},"keypad")]})]})})]}),(0,r.jsx)(z.ZP,{onChange:e=>{g(e.target.value)},clearable:!0,bordered:!0,fullWidth:!0,color:"primary",size:"lg",placeholder:"Group Name"})]}),(0,r.jsxs)(D.ZP.Footer,{children:[(0,r.jsx)(m.ZP,{auto:!0,flat:!0,color:"error",onPress:q,children:"Close"}),(0,r.jsx)(m.ZP,{auto:!0,onPress:Y,children:"Create"})]})]}),(0,r.jsxs)(D.ZP,{closeButton:!0,"aria-labelledby":"modal-title",open:N,onClose:()=>{E(!1)},children:[(0,r.jsx)(D.ZP.Header,{children:(0,r.jsx)(c.Z,{id:"modal-title",size:18,children:"Shut down your computer?"})}),(0,r.jsxs)(D.ZP.Footer,{children:[(0,r.jsx)(m.ZP,{auto:!0,flat:!0,color:"error",onPress:()=>{E(!1)},children:"Cancel"}),(0,r.jsx)(m.ZP,{auto:!0,onPress:()=>{S()},children:"Confirm"})]})]}),(0,r.jsxs)(D.ZP,{closeButton:!0,"aria-labelledby":"restart-modal",open:G,onClose:()=>{T(!1)},children:[(0,r.jsx)(D.ZP.Header,{children:(0,r.jsx)(c.Z,{id:"modal-title",size:18,children:"Restart your computer?"})}),(0,r.jsxs)(D.ZP.Footer,{children:[(0,r.jsx)(m.ZP,{auto:!0,flat:!0,color:"error",onPress:()=>{T(!1)},children:"Cancel"}),(0,r.jsx)(m.ZP,{auto:!0,onPress:()=>{I()},children:"Confirm"})]})]}),(0,r.jsxs)(D.ZP,{"aria-labelledby":"modal-title",preventClose:!0,blur:!0,open:F,onClose:()=>{M(!1)},children:[(0,r.jsxs)(D.ZP.Header,{children:[(0,r.jsx)(ed.Z,{sx:{fontSize:20,marginRight:0}}),(0,r.jsx)(c.Z,{id:"modal-title",size:18,style:{marginLeft:5},children:"Disconnected"})]}),(0,r.jsx)(D.ZP.Body,{children:(0,r.jsx)(c.Z,{children:"Please restart Project Hub server and refresh the page."})})]})]})}}},function(e){e.O(0,[913,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);